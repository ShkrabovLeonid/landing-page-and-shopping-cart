"use strict";document.addEventListener("DOMContentLoaded",function(t){const e=document.querySelectorAll("div.technicalDescription > button"),r=document.querySelectorAll("div.bgTechnical"),c=document.querySelectorAll(".bgTechnical");for(const t in e)if(e.hasOwnProperty(t)){e[t].addEventListener("click",()=>{r[t].classList.toggle("hidden"),c[t].scrollIntoView({block:"center",behavior:"smooth"})})}const o=document.querySelectorAll("div.rightProductBlock > div.rentProduct > button"),d=document.querySelector(".modalBlock"),n=document.querySelector("div.modalBlock > div.closeModal");for(const t in o)if(o.hasOwnProperty(t)){o[t].addEventListener("click",()=>{document.body.className="overflowHidden",d.classList.add("openModal")})}n.addEventListener("click",()=>{d.classList.remove("openModal"),document.body.classList.remove("overflowHidden")});const u=document.querySelector("body > header > div.mobileNav > div.buttonBurger"),a=document.querySelector("body > header > div.mobileNav > nav"),i=document.querySelectorAll(".mobileNav > nav > ul > li");u.addEventListener("click",()=>{a.classList.toggle("hidden"),document.body.classList.toggle("overflowHidden")});for(const t in i)if(i.hasOwnProperty(t)){i[t].addEventListener("click",()=>{a.classList.toggle("hidden"),document.body.classList.toggle("overflowHidden")})}const l=document.querySelector(".productContentModal"),s=document.querySelectorAll("section"),P=document.querySelectorAll("div.rightProductBlock > .nameProduct"),m=document.querySelectorAll("div.rightProductBlock > div.priceProduct > span"),y=document.querySelectorAll(".mainImg"),v={0:{dataProductNumber:0,imgMainProduct:y[0].src,urlProduct:"#"+s[1].id,nameProduct:P[0].textContent,quantityProduct:1,priceProduct:+m[0].textContent,"priceСurrencyProduct":" грн."},1:{dataProductNumber:1,imgMainProduct:y[1].src,urlProduct:"#"+s[2].id,nameProduct:P[1].textContent,quantityProduct:1,priceProduct:+m[1].textContent,"priceСurrencyProduct":" грн."},2:{dataProductNumber:2,imgMainProduct:y[2].src,urlProduct:"#"+s[3].id,nameProduct:P[2].textContent,quantityProduct:1,priceProduct:+m[2].textContent,"priceСurrencyProduct":" грн."},3:{dataProductNumber:3,imgMainProduct:y[3].src,urlProduct:"#"+s[5].id,nameProduct:P[3].textContent,quantityProduct:1,priceProduct:+m[3].textContent,"priceСurrencyProduct":" грн."},4:{dataProductNumber:4,imgMainProduct:y[4].src,urlProduct:"#"+s[6].id,nameProduct:P[4].textContent,quantityProduct:1,priceProduct:+m[4].textContent,"priceСurrencyProduct":" грн."},5:{dataProductNumber:5,imgMainProduct:y[5].src,urlProduct:"#"+s[7].id,nameProduct:P[5].textContent,quantityProduct:1,priceProduct:+m[5].textContent,"priceСurrencyProduct":" грн."},6:{dataProductNumber:6,imgMainProduct:y[6].src,urlProduct:"#"+s[9].id,nameProduct:P[6].textContent,quantityProduct:1,priceProduct:+m[6].textContent,"priceСurrencyProduct":" грн."},7:{dataProductNumber:7,imgMainProduct:y[7].src,urlProduct:"#"+s[10].id,nameProduct:P[7].textContent,quantityProduct:1,priceProduct:+m[7].textContent,"priceСurrencyProduct":" грн."},8:{dataProductNumber:8,imgMainProduct:y[8].src,urlProduct:"#"+s[11].id,nameProduct:P[8].textContent,quantityProduct:1,priceProduct:+m[8].textContent,"priceСurrencyProduct":" грн."},9:{dataProductNumber:9,imgMainProduct:y[9].src,urlProduct:"#"+s[12].id,nameProduct:P[9].textContent,quantityProduct:1,priceProduct:+m[9].textContent,"priceСurrencyProduct":" грн."},10:{dataProductNumber:10,imgMainProduct:y[10].src,urlProduct:"#"+s[13].id,nameProduct:P[10].textContent,quantityProduct:1,priceProduct:+m[10].textContent,"priceСurrencyProduct":" грн."},11:{dataProductNumber:11,imgMainProduct:y[11].src,urlProduct:"#"+s[14].id,nameProduct:P[11].textContent,quantityProduct:1,priceProduct:+m[11].textContent,"priceСurrencyProduct":" грн."},12:{dataProductNumber:12,imgMainProduct:y[12].src,urlProduct:"#"+s[15].id,nameProduct:P[12].textContent,quantityProduct:1,priceProduct:+m[12].textContent,"priceСurrencyProduct":" грн."}};for(let t=0;t<o.length;t++)o[t].addEventListener("click",function e(){p(v[t]),o[t].removeEventListener("click",e)});function p(t){let e=`\n        <div class="product" data-cart-product-i="${t.dataProductNumber}">\n            <div class="imgProductModal">\n                <div class="imgProduct" style="background-image:url(${t.imgMainProduct});"></div>\n            </div>\n            <div class="nameProductModal"><a href="${t.urlProduct}">${t.nameProduct}</a></div>\n            <div class="desctProductModal">\n                <span class="minus" data-minus><img src="img/arrows_circle_minus.svg" alt=""></span>\n                <span class="quantity">${t.quantityProduct}</span>\n                <span class="plus" data-plus><img src="img/arrows_circle_plus.svg" alt=""></span>\n            </div>\n            <div class="priceProductModal">${t.quantityProduct*t.priceProduct+t.priceСurrencyProduct}</div>\n            <div class="delProductModal"><img src="img/arrows_circle_remove.svg" alt=""></div>\n            <div class="lineProduct"></div>\n            </div>`;l.insertAdjacentHTML("afterBegin",e);let r=document.querySelectorAll(".productContentModal > .product");const c=document.querySelectorAll(".desctProductModal > span.plus"),n=document.querySelectorAll(".desctProductModal > span.minus"),u=document.getElementsByClassName("delProductModal");let a=[];P();const i=document.querySelectorAll(".desctProductModal > span.quantity"),s=document.querySelectorAll(".priceProductModal");for(let t=0;t<1;t++)c[t].addEventListener("click",e=>{++v[r[t].dataset.cartProductI].quantityProduct,i[t].textContent=v[r[t].dataset.cartProductI].quantityProduct,s[t].textContent=v[r[t].dataset.cartProductI].quantityProduct*v[r[t].dataset.cartProductI].priceProduct+" грн.",P()});for(let t=0;t<1;t++)n[t].addEventListener("click",()=>{--v[r[t].dataset.cartProductI].quantityProduct,i[t].textContent=v[r[t].dataset.cartProductI].quantityProduct,s[t].textContent=v[r[t].dataset.cartProductI].quantityProduct*v[r[t].dataset.cartProductI].priceProduct+" грн.",P()});for(let t=0;t<1;t++)u[t].addEventListener("click",()=>{r[t].remove(),P();for(let t=0;t<1;t++)o[r[t].dataset.cartProductI].addEventListener("click",function e(){p(v[r[t].dataset.cartProductI]),o[r[t].dataset.cartProductI].removeEventListener("click",e)})});function P(){const t=document.querySelectorAll(".priceProductModal"),e=document.querySelector("body > footer > div.modalBlock.openModal > div.contentModal > div.bottomContentModal > div > span:nth-child(2) > span");for(const e in t)t.hasOwnProperty(e)&&a.push(+t[e].textContent.replace(/\D+/g,""));let r=a.reduce((t,e)=>t+e,0);e.textContent=r,a=[]}const m=document.querySelectorAll(".nameProductModal");for(const t in m)if(m.hasOwnProperty(t)){m[t].addEventListener("click",()=>{d.classList.remove("openModal"),document.body.classList.remove("overflowHidden")})}const y=document.querySelector("#messageProduct");let g=[];for(const t in r)if(r.hasOwnProperty(t)){const e=r[t];let c="<b>№</b> "+(+t+1)+" <b>Название:</b> "+e.querySelector(".nameProductModal > a").textContent+" <b>Количество:</b> "+e.querySelector(".desctProductModal > span.quantity").textContent+" <b>Стоимость:</b> "+e.querySelector(".priceProductModal").textContent+"<br>";g.push(c)}let q=g.join(" ");y.value=q,g=[]}const g=document.querySelectorAll(".imgProductBlock"),q=document.querySelectorAll(".mainImgProduct"),b=document.querySelector(".modalBlockImg"),M=document.querySelector("div.modalBlockImg > div.closeModalImg"),f=document.querySelector(".modalBlockImg > div.contentModalImg > img");for(let t=0;t<g.length;t++){g[t].addEventListener("click",e=>{let r=e.target;null!=r.src&&(y[t].src=r.src)})}for(const t in q)if(q.hasOwnProperty(t)){q[t].addEventListener("click",t=>{let e=t.target;null!=e.src&&(f.src=e.src),document.body.className="overflowHidden",b.classList.add("openModalImg")})}M.addEventListener("click",()=>{b.classList.remove("openModalImg"),document.body.classList.remove("overflowHidden")});const C=t=>{fetch("mail.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(t=>alert("Повідомлення відправлено")).catch(t=>console.error(t))},h=document.getElementsByTagName("form");for(let t=0;t<h.length;t++)h[t].addEventListener("submit",function(t){t.preventDefault();let e=new FormData(this);e=Object.fromEntries(e),C(e),this.reset()})});